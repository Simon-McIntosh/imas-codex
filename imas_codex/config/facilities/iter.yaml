# ITER Organization - SDCC (Scientific Data Computing Center)
#
# Public facility configuration for graph and mappings.
# Infrastructure data is in iter_private.yaml (gitignored).

facility: iter
name: ITER Organization
machine: ITER
description: International Thermonuclear Experimental Reactor - SDCC
location: Cadarache, France

# SSH host alias - auto-detected as local when running on SDCC
# (hostname contains 'iter' so run() executes locally without SSH)
ssh_host: iter

# Data systems available at this facility
data_systems:
  - imas
  - mdsplus
# Wiki/documentation sites (stored in private YAML, never graphed)
# Each site: {url, portal_page, site_type, auth_type, credential_service}
wiki_sites:
  - url: https://confluence.iter.org
    portal_page: IMP
    site_type: confluence
    auth_type: session
    credential_service: iter-confluence
    requires_ssh: false  # Confluence uses REST API directly

# User info discovery configuration
# GECOS = General Comprehensive Operating System (5th field in /etc/passwd)
user_info:
  name_format: last_first  # ITER uses "Last First [EXT]" format
  gecos_suffix_pattern: "\\s+EXT$"  # Strip trailing " EXT" from names
  lookup_tools:  # Ordered fallback list
    - getent   # POSIX standard, includes LDAP/NIS/SSSD
    - passwd   # /etc/passwd fallback
    - id       # existence check only