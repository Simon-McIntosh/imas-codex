# TCV Tokamak - Swiss Plasma Center (EPFL)
#
# Public facility configuration for graph and mappings.
# Infrastructure data is in tcv_private.yaml (gitignored).

facility: tcv
name: TCV Tokamak
machine: TCV
description: Swiss Plasma Center - TCV Tokamak at EPFL
location: Lausanne, Switzerland

# SSH connection (user configures ~/.ssh/config with this alias)
ssh_host: tcv

# Data systems available at this facility
data_systems:
  - mdsplus
  - tdi
# Wiki/documentation sites
# Two access methods available:
#   - tequila: Direct HTTP with EPFL SSO (faster, requires credentials)
#   - ssh_proxy: Via SSH tunnel (slower, requires SSH access)
wiki_sites:
  # Primary: Direct HTTP access via Tequila SSO (recommended)
  - url: https://spcwiki.epfl.ch/wiki
    portal_page: Portal:TCV
    site_type: mediawiki
    auth_type: tequila
    credential_service: tcv-wiki
  # Fallback: SSH proxy access (slower but always works with SSH)
  - url: https://spcwiki.epfl.ch/wiki
    portal_page: Portal:TCV
    site_type: mediawiki
    auth_type: ssh_proxy
    ssh_host: tcv

# User info discovery configuration
# GECOS = General Comprehensive Operating System (5th field in /etc/passwd)
user_info:
  name_format: first_last  # Standard "First Last" format
  lookup_tools:  # Ordered fallback list
    - getent   # POSIX standard, includes LDAP/NIS/SSSD
    - passwd   # /etc/passwd fallback
    - id       # existence check only